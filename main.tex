\documentclass[a4paper,dvipsnames, 11pt]{amsart}
\usepackage{preamble}
\usepackage{lipsum}
\vspace{10ex}

\begin{document}
\maketitle
\cite{Cis19}
\begin{notation}
	We employ the following notations.
	\begin{itemize}
		\item %
			(2,1)-categories are denoted by bf symbols:
			$\C,\one{A},\one{E},\ldots$
			or bb symbols:
			$\dgm{I},\dgm{D},\dgm{A},\ldots$
		\item %
			$\Set$ is the category of sets.
		\item %
			$\Cat$ is the large (2,1)-category of categories.
		\item %
			There is a fully faithful (2,1)-functor $\disc\colon\Set\arr[hook]\Cat$.
		\item %
			$\Catbi$ is the large 2-category of categories.
		\item %
			$\ra$ is the $1$-simplex seen as a category.
			$\C^\ra$ is the arrow category of $\C$.
		\item %
			$\C_{/A}$ and $\C_{A/}$ are over and under categories respectively.
		\item %
			$\cod$ and $\dom$ mean codomain and domain respectively. They often have as their type
			$\C^\ra\arr\C$, $\C_{/A}\arr\C$,
			or $\C_{A/}\arr\C$.
		\item %
			By a \emph{replete class of morphisms} of $\C$, we mean a replete full subcategory of $\C^\ra$.
		\item %
		\qedhere %
	\end{itemize}
\end{notation}
\section{Dependent type theories in terms of display maps}
\begin{definition}
	A \emph{display map category} $\C=(\C,\dis_\C)$ is a pair of a category $\C$ and a replete class $\dis_\C$ of morphisms satisfying the following conditions.
	Arrows in $\dis_\C$ are called \emph{display maps} of $\C$.
	\begin{itemize}
		\item %
			$\C$ has a terminal object\footnote{
				In some literature, this condition is omitted for the definition of display map category.
			}.
		\item %
			Let $h\colon \Delta\arr \Gamma$ and $f\colon A\arr[fib] \Gamma$ be morphisms in $\C$ such that $f$ is a display map.
			Then there is a pullback square
			\begin{equation}
				\label{dgm:substPullback}
				\begin{tikzcd}
					\cdot
					\ar[r]
					\ar[d,fib]
					\pullback[rd]
						&
						A
						\ar[d,"f",fib]
					\\
					\Delta
					\ar[r,"h"']
						&
						\Gamma
				\end{tikzcd}
			\end{equation}
			in $\C$
			such that the left side is also a display map.
		\qedhere %
	\end{itemize}
\end{definition}
\begin{definition}
	Suppose we are given
	a display map category $\C$
	and
	an object $\Gamma\in\C$.
	We define a diplay map category $\C(\Gamma)$ as follows.
	\begin{itemize}
		\item %
			The underlying category is
			the full subcategory of the over category $\C_{/\Gamma}$ spanned by diplay maps in $\C$.
		\item %
			A display map in $\C(\Gamma)$ is a morphism $f\in\C(\Gamma)$ such that $\dom(f)$ is a display map in $\C$.
		\qedhere %
	\end{itemize}
\end{definition}
\begin{proposition}
	The above definition indeed gives a display map category.
\end{proposition}
\begin{definition}
	Define the 2-category $\CwD$ of display map categories
	as follows.
	\begin{itemize}
		\item %
			0-cells are display map categories.
		\item %
			1-cells are functors preserving the terminal object, display maps, and pullbacks of the forms \Cref{dgm:substPullback}.
		\item %
			A 2-cell $\alpha\colon F\arr[Rightarrow]G\colon\C\arr\D$ is a natural transformation such that
			naturality squares at display maps are pullback squares;
			i.e.,
			for each display map $f\colon A\arr[fib]\Gamma$ in $\C$,
			the naturality square
			\[
				\begin{tikzcd}
					FA
					\ar[r,"\alpha_A"]
					\ar[d,"F(f)"']
					\pullback[rd]
						&
						GA
						\ar[d,"G(f)"]
					\\
					F\Gamma
					\ar[r,"\alpha_\Gamma"']
						&
						G\Gamma
				\end{tikzcd}
			\]
			is a pullback square in $\D$.
		\qedhere %
	\end{itemize}
\end{definition}
\begin{definition}
	A display map category is \emph{democratic} if for each object $\Gamma\in\one{C}$,
	there exists a sequence of display maps from $\Gamma$ to the terminal object.
	We write $\CwDdm$ for the full sub 2-category of $\CwD$ spanned by democratic display map categories.
\end{definition}
\begin{proposition}
	$\CwDdm$ is a (2,1)-category.
\end{proposition}
\begin{definition}
	A \emph{clan} $\C=(\C,\fib_\C)$ is a display map category satisfying the following conditions.
	Display maps (i.e., arrows in $\fib_\C$) are called \emph{fibrations} of $\C$.
	\begin{itemize}
		\item %
			For each object $A\in\C$, the unique morphism $A\arr 1$ towards the terminal object
			is a fibraion.
		\item %
			$\fib_\C$ is closed under composition and contains all isomorphisms.
		\qedhere %
	\end{itemize}
	We write $\Clan$ for the full sub 2-category of $\CwD$ spanned by clans. Since clans are always democratic, this is a (2,1)-category.
\end{definition}
\begin{definition}[Strict Categories]
	We write $\StrCat$ for the (1-)category of categories, and an object in $\StrCat$ is called a \emph{strict category}.
	For each strict category $\C$, we write $\Obj(\C)$ for its underlying object.
	By \textit{object} of $\C$, we mean an element in $\Obj(\C)$.
\end{definition}
\begin{remark}
	You can see a strict category as a category equipped with its data of \textit{objects};
	we can define a \emph{strict category} as a category $\C$ equipped with a set $\Obj(\C)$ and a essentially surjective functor towards $\C$.
	They form a full sub-(2,1)-category of $\Cat^\ra$, which is indeed equivalent to $\StrCat$.
\end{remark}
\begin{definition}
	A \emph{contextual category} $\C=(\C,\emptycon,\dis_\C)$ consists of the following data.
	\begin{itemize}
		\item %
			A strict category $\C$.
		\item %
			An object $\emptycon$ of $\C$ which is a terminal object.
		\item %
			A class\footnote{
				A \textit{class of morphisms} in a strict category $\C$ is just a subgraph of the \textit{underlying graph} of $\C$,
				which is defined by pulling back $\C^\ra\arr\C\times\C$ along $\Obj(\C)\times\Obj(\C)\arr\C\times\C$.
			}
			$\dis_\C$ of \emph{display maps}  such that
			\begin{itemize}
				\item %
					for each object $\Gamma\in\Obj(\C)$, there exists
					a unique path of display maps $\Gamma\arr[fib]\cdots\arr[fib]\emptycon$, and
				\item %
					for each display map $A=(\Gamma.A\arr[fib]\Gamma)$ and a morphism $\tup{t}\colon\Delta\arr\Gamma$
					there exits a unique pullback square
					\[
						\begin{tikzcd}
							\Delta.{A[\tup{t}/\tup{x}]}
							\ar[r]
							\ar[d,fib]
							\pullback[rd]
								&
								\Gamma.A
								\ar[d,fib,"p"]
							\\
							\Delta
							\ar[r,"\tup{t}"']
								&
								\Gamma
						\end{tikzcd}
					\]
					whose left side is a display map, which is denoted by $A[\tup{t}/\tup{x}]$ and called the \emph{substitution} of $\tup{t}$ in $A$.
			\end{itemize}
	\end{itemize}
	We write $\CwC$ for the category of contextual categories and functors preserving those structures.
\end{definition}
\begin{notation}
	Let $\C$ be a contextual category.
	\begin{itemize}
		\item %
			A \emph{context} in $\C$ is an object in $\C$.
		\item %
			A \emph{type} $A$ over a context $\Gamma$ in $\C$ is a display map $A=(\Gamma.A\arr[fib]\Gamma)$.
			We write
			\[
				\Gamma\vdash A \type
			\]
			if $A$ is a type over $\Gamma$.
		\item %
			A \emph{term} $t$ of a type $A$ over a context $\Gamma$ is a section of the display map $\Gamma.A\arr[fib]\Gamma$.
			We write
			\[
				\Gamma\vdash t\tcolon A
			\]
			if $t$ is a term of $A$.
		\item %
			We write
			\[
				\Gamma\vdash A\doteq A' \type
				\hspace{2ex}
				\text{ and }
				\hspace{2ex}
				\Gamma\vdash t\doteq t'\tcolon A
			\]
			if $A$ and $A'$ are equal as display maps and $t$ and $t'$ are equal as sections.
			We say types (or terms) are \emph{judgementally equal} if such an equality holds.
		\item %
			Let $\Delta\in\C$ be a context and $\Gamma=\emptycon.A_0.\cdots.A_n$ be another context.
			(Note that such a sequence $A_0,\cdots,A_n$ of types uniquely exists for any context $\Gamma$.)
			We define $\Delta.\Gamma=\Delta.A_0.\cdots.A_n$ inductively as follows.
			\begin{itemize}
				\item %
					$\Delta.\emptycon:=\Delta$.
					There is a canonical projection $p_{-1}\colon\Delta\arr\emptycon$.
				\item %
					Suppose we have constructed $\Delta.A_0.\cdots.A_i$ and a projection $p_i\colon\Delta.A_0.\cdots.A_i\arr\emptycon.A_0.\cdots.A_i$.
					Then we define $\Delta.A_0.\cdots.A_i.A_{i+1}$ and $p_{i+1}$ as the following substitution.
					\[
						\begin{tikzcd}
							\Delta.A_0.\cdots.A_i.A_{i+1}
							\ar[r,"p_{i+1}"]
							\ar[d,fib]
							\pullback[rd]
								&
								\emptycon.A_0.\cdots.A_i.A_{i+1}
								\ar[d,fib]
							\\
							\Delta.A_0.\cdots.A_i
							\ar[r,"p_i"]
								&
								\emptycon.A_0.\cdots.A_i
						\end{tikzcd}
					\]
			\end{itemize}
		\qedhere %
	\end{itemize}
\end{notation}
\begin{theorem}
	There exists a biadjunction
	\[
		\adjunction{\CwC}{\CwD}{\abs{-}}{\cxt}
	\]
	that restricts to a biequivalence
	\[
		\adjunction(\simeq){\CwC}{\CwDdm}{\abs{-}}{\cxt}
	\]
	In particular, $\CwDdm$ is essentially a 1-category; i.e., a setoid enriched category.
\end{theorem}
\begin{proof}[Sketch of proof]
	There is a canonical way to see a contextual catgory as a display map category. This indeed induces a 2-functor $\abs{-}\colon\CwC\arr\CwD$.

	For each display map category $\D$,
	we construct a contextual category $\cxt(\D)$ as follows.
	\begin{itemize}
		\item %
			Firstly, choose a terminal object $1$.
			Then choose a section $\Gamma.-$ of the quotient functor $\core{\D(\Gamma)}\arr\pi_0(\core{\D(\Gamma)})$ for each $\Gamma\in\D$.
		\item %
			An object in $\cxt(\D)$ is a tuple $(A_0,A_1,\cdots, A_n)$ $(n\geq 0)$
			such that
			\begin{itemize}
				\item %
					$A_0\in\pi_0(\D(1))$.
				\item %
					$A_{i+1}\in\pi_0(\D(1.A_0.\cdots.A_{i}))$ for each $0\leq i<n$.
			\end{itemize}
		\item %
			A morphism $(A_0,\cdots,A_n)\arr(B_0,\cdots,B_m)$ is a morphism $1.A_0.\cdots.A_n\arr1.B_0.\cdots.B_m$.
	\end{itemize}
	$\cxt(\D)$ is independent of the choice of the terminal object and the sections of the quotient functors, up to isomorphism of categories.
	Moreover, one can check the natural equivalence
	\[
		\CwC(\C,\cxt(\D))
		\simeq
		\CwD(\abs{\C},\D)
	\]
	of categories, which shows the biadjunction.
\end{proof}
\newpage
\section{Logical framework Ã  la Uemura}
\begin{definition}
	A \emph{representable map category} $\R=(\R,\rep_\R)$ is a clan satisfying the following conditions.
	Arrows in $\rep_\R$ are called \emph{representable maps} of $\R$.
	\begin{itemize}
		\item %
			$\R$ is finitely complete.
		\item %
			For each representable map $f\colon X\arr[fib]Y$,
			the pullback functor $f^*\colon\R_{/Y}\arr\R_{/X}$ has a right adjoint $f_*$.
		\qedhere %
	\end{itemize}
\end{definition}


\bibliographystyle{halpha-abbrv}
\bibliography{bibliography}

\end{document}
					The canonical function
					\[
						(\Gamma,A,f)\mapsto A\colon\coprod_{\Gamma\in\ell^{-1}(n),A\in\Obj(\C)}\C(A,\Gamma)\arr\Obj(\C)
					\]
					is a monomorphism and
					$\ell^{-1}(n+1)$ coincides with its image.
		\item %
			$\WSubone$ is the replete full sub (2,1)-category of $\Cat^\ra$
			consisting of wide subcategory inclusions; i.e., faithful functors that induce equivalences on core groupoids.
\begin{theorem}
	shoumei no aidani claim ireru yatu
\end{theorem}
\begin{proof}
	\lipsum[1]
	\begin{claim}
		nannka claim siro
	\end{claim}
	\begin{since}
		\lipsum[2]
	\end{since}
	\lipsum[3]
\end{proof}
\begin{theorem}
	Saigo ni claim kuru taipu.
\end{theorem}
\begin{proof}
	\lipsum[1]
	This follows from the following Claim, which completes the proof.
	\qedhere
	\begin{claim}
		nannka claim siro
	\end{claim}
	\begin{since}
		\lipsum[2]
	\end{since}
\end{proof}
